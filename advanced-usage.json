{"version":2,"kind":"Article","sha256":"1d69ceab452aa73dd6b63b9f2e729ac4def39835b04fb81de265511bb2575608","slug":"advanced-usage","location":"/alliance_canada/advanced_usage.md","dependencies":[],"frontmatter":{"title":"Advanced usage","content_includes_title":false,"github":"https://github.com/SIMEXP/simexp.github.io","numbering":{"title":{"offset":1}},"source_url":"https://github.com/SIMEXP/simexp.github.io/blob/main/alliance_canada/advanced_usage.md","edit_url":"https://github.com/SIMEXP/simexp.github.io/edit/main/alliance_canada/advanced_usage.md","exports":[{"format":"md","filename":"advanced_usage.md","url":"/build/advanced_usage-663aba022214b39914332bed2f32757b.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://docs.astral.sh/uv/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"uv","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JQbZW26lEV"}],"urlSource":"https://docs.astral.sh/uv/","key":"nNEY819sSf"},{"type":"text","value":" is a tool for creating virtual environments (along with many other features !) that can be useful for working on Alliance Canada resources.\nFor example, to download ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iCyCXHeKqF"},{"type":"inlineCode","value":"uv","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"R0UlSMZZcE"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"W1QmIwtc9i"},{"type":"link","url":"https://docs.astral.sh/uv/pip/environments/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"create a Python environment","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"x8nBGrFONT"}],"urlSource":"https://docs.astral.sh/uv/pip/environments/","key":"EoLVHq0z6V"},{"type":"text","value":" with ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fyXOjUuKkx"},{"type":"link","url":"https://www.datalad.org/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"inlineCode","value":"datalad","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"g3BeJ6PuJ4"}],"urlSource":"https://www.datalad.org/","key":"Dy0DfBbn1d"},{"type":"text","value":" installed:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d11OGr7ZJN"}],"key":"I1nqT2Jrg7"},{"type":"code","lang":"","value":"# download uv\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# verify uv installation\nuv -h\n\n# create datalad venv\nuv venv datalad --python=3.12\n\n# activate datalad venv\nsource datalad/bin/activate\n\n# install git-annex and datalad\nuv pip install git-annex datalad\n\n# verify datalad installation\ndatalad --help\n\n# deactivate datalad venv\ndeactivate","position":{"start":{"line":6,"column":1},"end":{"line":27,"column":1}},"key":"k9lEqGJah6"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"We can then use this ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"qmYfhWemWx"},{"type":"inlineCode","value":"datalad","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"tbup08mn2P"},{"type":"text","value":" environment to ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"LJV7Z1Wwml"},{"type":"link","url":"https://handbook.datalad.org/en/latest/beyond_basics/101-147-riastores.html","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"access existing datasets on the local RIA store","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"cEtX5krvrh"}],"urlSource":"https://handbook.datalad.org/en/latest/beyond_basics/101-147-riastores.html","key":"EEIMDIrRyW"},{"type":"text","value":".\nWe will ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"Csfta1NojK"},{"type":"link","url":"https://docs.datalad.org/en/stable/generated/man/datalad-install.html#reckless-auto-ephemeral-shared","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"use a ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"pKKbOamR3s"},{"type":"inlineCode","value":"reckless --ephemeral","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"j0CYZCOljE"},{"type":"text","value":" installation","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"NkQbsOqqTQ"}],"urlSource":"https://docs.datalad.org/en/stable/generated/man/datalad-install.html#reckless-auto-ephemeral-shared","key":"FeUPVEUP18"},{"type":"text","value":" of the dataset such that we do not consume additional inodes, and our changes do not modify the original dataset.\nAs an example, to access the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"nPKIDswajf"},{"type":"inlineCode","value":"cneuromod.things.fmriprep","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"wbrHJvAChk"},{"type":"text","value":" dataset:","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"ZiMxNFWchO"}],"key":"CeyQ196LHl"},{"type":"code","lang":"","value":"source datalad/bin/activate\n\n# to install the cneuromod.things.fmriprep dataset from the Rorqual RIA store\ndatalad install --reckless 'ephemeral' ria+file://$HOME/links/projects/rrg-pbellec/ria-rorqual#~cneuromod.things.fmriprep","position":{"start":{"line":33,"column":1},"end":{"line":38,"column":1}},"key":"gGbN7D3CNj"}],"key":"cDDf0lGUid"}],"key":"sSlLmg4Vn5"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Letâ€™s get started","url":"/quick-start","group":"Alliance Canada"},"next":{"title":"Resource tracking","url":"/resource-tracking","group":"Alliance Canada"}}},"domain":"http://localhost:3000"}